cmake_minimum_required( VERSION 3.0 )

SET( F3D_LIB_NAME f3d )
SET( HEADER_PATH ../include/ )
SET( PUBLIC_HEADERS 
  ${HEADER_PATH}/f3d.h
 )

SET( f3d_src
	 osef.cpp
)

if ( MSVC )
  ADD_DEFINITIONS( -D_SCL_SECURE_NO_WARNINGS )
  ADD_DEFINITIONS( -D_CRT_SECURE_NO_WARNINGS )
endif ( MSVC )

INCLUDE_DIRECTORIES ( ${ASSIMP_INCLUDE_DIRS} ${VULKAN_INCLUDE_DIRS} )
ADD_LIBRARY ( firestone ${f3d_src} )
TARGET_LINK_LIBRARIES ( firestone ${ASSIMP_LIBRARIES} ${VULKAN_LIBRARIES} )

SET_TARGET_PROPERTIES( firestone PROPERTIES
						VERSION ${F3D_VERSION}
						SOVERSION ${F3D_SOVERSION}
						OUTPUT_NAME ${F3D_LIB_NAME}
)

INSTALL( TARGETS firestone
		 LIBRARY DESTINATION ${F3D_LIB_INSTALL_DIR}
		 ARCHIVE DESTINATION ${F3D_LIB_INSTALL_DIR}
		 RUNTIME DESTINATION ${F3D_BIN_INSTALL_DIR}
)